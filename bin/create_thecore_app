#!/bin/bash -e
echo "Please enter app's name:" 
read COMPNAME
if [[ "$COMPNAME"  =~ ^[a-zA-Z0-9_-]+$ ]]; then
    FULLNAME="$COMPNAME" 
    echo "Creating a generic app" 
    if [ -e "$FULLNAME" ]; then
        echo "ERROR! The file already exists, please use another name." 
    else
        rails new "$FULLNAME" -m 'https://raw.githubusercontent.com/gabrieletassoni/thecore_setup_templates/master/new_thecore_app.rb' --webpack --full
    fi
else
    echo "ERROR! The name can only contain letters, numbers, - and _" 
fi
